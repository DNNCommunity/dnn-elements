"use strict";(self.webpackChunk_dnncommunity_dnn_elements=self.webpackChunk_dnncommunity_dnn_elements||[]).push([[8061],{"./dist/esm/dnn-textarea.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{dnn_textarea:()=>DnnTextarea});var _index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-a2e9a98f.js"),_stringUtilities_b220cf3a_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/esm/stringUtilities-b220cf3a.js");const DnnTextarea=class{constructor(hostRef){(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.valueInput=(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"valueInput",7),this.valueChange=(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"valueChange",7),hostRef.$hostElement$["s-ei"]?this.internals=hostRef.$hostElement$["s-ei"]:(this.internals=hostRef.$hostElement$.attachInternals(),hostRef.$hostElement$["s-ei"]=this.internals),this.resizable="block",this.value=void 0,this.label=void 0,this.name=void 0,this.helpText=void 0,this.required=void 0,this.disabled=void 0,this.autocomplete="off",this.minlength=void 0,this.maxlength=void 0,this.readonly=void 0,this.rows=3,this.focused=!1,this.valid=!0,this.customValidityMessage=void 0}async checkValidity(){return this.textarea.validity}async setCustomValidity(message){if(null==message||""==message)return this.textarea.setCustomValidity(""),this.valid=!0,void this.fieldset.setValidity(!0);this.customValidityMessage=message,this.valid=!1,this.textarea.setCustomValidity(message)}componentWillLoad(){this.labelId=(0,_stringUtilities_b220cf3a_js__WEBPACK_IMPORTED_MODULE_1__.g)()}componentDidLoad(){this.textarea.style.minHeight=1.5*this.rows+"em"}formResetCallback(){this.textarea.setCustomValidity(""),this.valid=!0,this.value="",this.internals.setValidity({}),this.internals.setFormValue("")}handleInput(value){this.value=value;var valid=this.textarea.checkValidity();this.valid=valid,this.valueInput.emit(this.value)}handleInvalid(){this.valid=!1,null==this.customValidityMessage&&(this.customValidityMessage=this.textarea.validationMessage)}handleChange(){if(this.valueChange.emit(this.value),null!=this.name){var data=new FormData;data.append(this.name,this.value.toString()),this.internals.setFormValue(data)}}shouldLabelFloat(){return!this.focused&&(null==this.value||""==this.value)}render(){var _a;return(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.H,{key:"dbc7de88630e93d1bc75ba0f29b4d492d433ed3f",tabIndex:this.focused?-1:0,onFocus:()=>this.textarea.focus(),onBlur:()=>this.textarea.blur()},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("dnn-fieldset",{key:"5c95dfbf4564daa898d9d14ca5dfa4fdff8a9007",ref:el=>this.fieldset=el,invalid:!this.valid,focused:this.focused,resizable:this.resizable,label:`${null!==(_a=this.label)&&void 0!==_a?_a:""}${this.required?" *":""}`,helpText:this.helpText,disabled:this.disabled,id:this.labelId,floatLabel:this.shouldLabelFloat(),onClick:()=>!this.focused&&this.textarea.focus()},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("textarea",{key:"a09f9af15bc8e79111975edeafac7f35cd097133",ref:el=>this.textarea=el,name:this.name,value:this.value,required:this.required,onBlur:()=>this.focused=!1,onFocus:()=>this.focused=!0,onChange:()=>this.handleChange(),onInput:e=>this.handleInput(e.target.value),onInvalid:()=>this.handleInvalid(),disabled:this.disabled,autoComplete:this.autocomplete,minlength:this.minlength,maxlength:this.maxlength,readonly:this.readonly,"aria-labelledby":this.labelId,rows:this.rows})))}static get formAssociated(){return!0}};DnnTextarea.style=":host{display:inline-block;--foreground-color:var(--dnn-color-foreground, #000);--background-color:var(--dnn-color-background, #fff);--focus-color:var(--dnn-color-primary, #3792ED);--danger-color:var(--dnn-color-danger, #900);--control-radius:var(--dnn-controls-radius, 3px)}dnn-fieldset{width:100%}textarea{border:none;outline:none;background-color:transparent;color:var(--foreground-color);width:calc(100% - 1em);height:calc(100% - 1em);line-height:1.5em;resize:none}dnn-fieldset{--fieldset-foreground-color:var(--foreground-color);--fieldset-background-color:var(--background-color);--fieldset-focus-color:var(--focus-color);--fieldset-danger-color:var(--danger-color);--fieldset-control-radius:var(--control-radius)}"},"./dist/esm/stringUtilities-b220cf3a.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getReadableFileSizeString(fileSizeInBytes){let i=-1;const byteUnits=[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"];if(0===fileSizeInBytes)return`0${byteUnits[0]}`;do{fileSizeInBytes/=1024,i++}while(fileSizeInBytes>1024);return Math.max(fileSizeInBytes,.1).toFixed(1)+byteUnits[i]}function decodeHtml(html){if(!html)return"";const txt=document.createElement("textarea");return txt.innerHTML=html,txt.value}function generateRandomId(length=16){const characters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let result="";const array=new Uint8Array(length);window.crypto.getRandomValues(array);for(let i=0;i<length;i++){const randomValue=array[i];result+=characters.charAt(randomValue%62)}return result}__webpack_require__.d(__webpack_exports__,{a:()=>getReadableFileSizeString,d:()=>decodeHtml,g:()=>generateRandomId})}}]);