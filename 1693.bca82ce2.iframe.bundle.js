"use strict";(self.webpackChunk_dnncommunity_dnn_elements=self.webpackChunk_dnncommunity_dnn_elements||[]).push([[1693],{"./dist/esm/dnn-vertical-splitview.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{dnn_vertical_splitview:()=>DnnVerticalSplitview});var _index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-a2e9a98f.js"),_mouseUtilities_e70a0dc3_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/esm/mouseUtilities-e70a0dc3.js");const DnnVerticalSplitview=class{constructor(hostRef){(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.widthChanged=(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"widthChanged",7),this.splitterWidth=16,this.splitWidthPercentage=30,this.leftWidth=0,this.rightWidth=0}async setSplitWidthPercentage(newWidth){const panes=this.element.shadowRoot.querySelectorAll(".pane");requestAnimationFrame((()=>{panes.forEach((pane=>pane.classList.add("transition"))),this.splitter.classList.add("transition"),requestAnimationFrame((()=>{const fullWidth=this.element.getBoundingClientRect().width;let newLeft=fullWidth*newWidth/100;newLeft<0&&(newLeft=0),newLeft>fullWidth&&(newLeft=fullWidth),this.leftWidth=newLeft,this.rightWidth=fullWidth-newLeft,setTimeout((()=>{panes.forEach((pane=>pane.classList.remove("transition"))),this.splitter.classList.remove("transition")}),300)}))}))}async getSplitWidthPercentage(){const fullWidth=this.element.getBoundingClientRect().width;return this.leftWidth/fullWidth}componentDidLoad(){requestAnimationFrame((()=>{this.resizeObserver=new ResizeObserver((()=>{const fullWidth=this.element.getBoundingClientRect().width;this.leftWidth=fullWidth*this.splitWidthPercentage/100,this.rightWidth=fullWidth-this.leftWidth,this.widthChanged.emit(this.splitWidthPercentage)})),this.resizeObserver.observe(this.element)}))}handleMouseDown(event){event.preventDefault();const handleDrag=ev=>{requestAnimationFrame((()=>{let fullWidth=this.element.getBoundingClientRect().width,{movementX}=(0,_mouseUtilities_e70a0dc3_js__WEBPACK_IMPORTED_MODULE_1__.g)(ev,this.previousTouch),newLeft=this.leftWidth+movementX;newLeft<0&&(newLeft=0),newLeft>fullWidth&&(newLeft=fullWidth),this.leftWidth=newLeft,this.rightWidth=fullWidth-newLeft,this.splitWidthPercentage=this.leftWidth/fullWidth*100}))},handleDragFinished=()=>{document.removeEventListener("mousemove",handleDrag),document.removeEventListener("touchmove",handleDrag);const fullWidth=this.element.getBoundingClientRect().width,newPercentage=this.leftWidth/fullWidth*100;this.widthChanged.emit(newPercentage)};document.addEventListener("mouseup",handleDragFinished),document.addEventListener("touchend",handleDragFinished),document.addEventListener("mousemove",handleDrag),document.addEventListener("touchmove",handleDrag)}handleKeyDown(e){let movementX=0;switch(e.key){case"ArrowLeft":movementX=-10;break;case"ArrowRight":movementX=10;break;default:return}e.shiftKey&&(movementX*=10);const fullWidth=this.element.getBoundingClientRect().width;let newLeft=this.leftWidth+movementX;newLeft<0&&(newLeft=0),newLeft>fullWidth&&(newLeft=fullWidth),this.leftWidth=newLeft,this.rightWidth=fullWidth-this.leftWidth}render(){return(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.H,{key:"e140fa989f74e328619a4d5a53d4b7cfb6ca5970"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"22a05426ed02cb10f3a2ceeb7f7682f8677e4c31",class:"left pane",style:{width:`${this.leftWidth}px`}},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"c997933e9bda3464c6f49e818ac3c39aae7ede99",name:"left"})),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{key:"f2a04a9418f614df26d3a7fab7a71eda82b5a244",onMouseDown:e=>this.handleMouseDown(e),onTouchStart:e=>this.handleMouseDown(e),onKeyDown:e=>this.handleKeyDown(e),ref:el=>this.splitter=el,style:{minWidth:`${this.splitterWidth.toString()}px`,left:this.leftWidth-2+"px"}},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"2f81c5e1858a6824f5ce4d4162f05acfd1733798"})),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"568a5a6f4aac1a438332085c1288dd9ed84e6143",class:"right pane",style:{width:`${this.rightWidth}px`}},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"d509c38b1c51ff0dcdef8f9c419ebc1a9ed63a81",name:"right"})))}get element(){return(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}};DnnVerticalSplitview.style=":host{display:flex;align-items:stretch;margin:0 auto;position:relative;--left-pane-background-color:transparent;--right-pane-background-color:transparent}button{border:none;margin:0;padding:0;cursor:ew-resize;position:absolute;height:100%;background-color:transparent}button.transition{transition:all 300ms ease-in-out}.pane{overflow-y:auto}.pane.transition{transition:all 300ms ease-in-out}.pane.left{background-color:var(--left-pane-background-color)}.pane.right{background-color:var(--right-pane-background-color);flex-grow:1}"},"./dist/esm/mouseUtilities-e70a0dc3.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getMovementFromEvent(event,previousTouch){let movementX=0,movementY=0;if(event instanceof MouseEvent&&(movementX=event.movementX,movementY=event.movementY),"undefined"!=typeof TouchEvent&&event instanceof TouchEvent){let touch=event.touches[0];null!=previousTouch&&(movementX=touch.pageX-this.previousTouch.pageX,movementY=touch.pageY-this.previousTouch.pageY),previousTouch=touch}return{movementX,movementY}}__webpack_require__.d(__webpack_exports__,{g:()=>getMovementFromEvent})}}]);