<!DOCTYPE html>
<html dir="ltr" lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
  <title>DNN custom elements</title>

  <script type="module" src="build/dnn.esm.js"></script>
  <script nomodule src="build/dnn.js"></script>
  <style type="text/css">
    :root {
        --dnn-color-primary: #3792ED;
        --dnn-color-primary-light: #6CB6F3;
        --dnn-color-primary-dark: #0D569E;
        --dnn-color-primary-contrast: #FFF;
        --dnn-color-secondary:#CCC;
        --dnn-color-secondary-light: #EEE;
        --dnn-color-secondary-dark: #AAA;
        --dnn-color-secondary-contrast: #222;
        --dnn-color-tertiary: #EAEAEA;
        --dnn-color-tertiary-light: #F2F2F2;
        --dnn-color-tertiary-dark: #D8D8D8;
        --dnn-color-tertiary-contrast: #333;
        --dnn-controls-radius: 5px;
        --dnn-controls-padding: 5px;
    }
    section{
      margin: 15px;
      padding: 15px;
      border-radius: 15px;
      border: 1px solid grey;
    }
    .toggle-custom-colors{
      --background: red;
      --background-checked: green;
    }
  </style>
</head>
<body>
  <h1>Dnn HTML custom elements</h1>
  <!-- dnn-button -->
  <section>
    <h2>dnn-button</h2>
    <dnn-button onclick="alert('clicked')">Default</dnn-button>
    <dnn-button onclick="alert('clicked')" type="primary">Primary</dnn-button>
    <dnn-button onclick="alert('clicked')" type="secondary">Secondary</dnn-button>
    <dnn-button onclick="alert('clicked')" type="tertiary">Tertiary</dnn-button>
    <dnn-button onclick="alert('clicked')" type="primary" reversed="reversed">Primary reversed</dnn-button>
    <dnn-button onclick="alert('clicked')" type="secondary" reversed>Secondary reversed</dnn-button>
    <dnn-button onclick="alert('clicked')" type="tertiary" reversed>Tertiary reversed</dnn-button>
    <dnn-button onclick="alert('clicked')" disabled={true}>Disabled</dnn-button>
    <dnn-button onclick="alert('clicked')" size="small">Small</dnn-button>
    <dnn-button onclick="alert('clicked')" size="large">Large</dnn-button>
    <dnn-button id="confirm-button" confirm="true">Confirm</dnn-button>

    <h3>Flexed sized buttons</h3>
    <style type="text/css">
      .flex-buttons{
        display: flex;
        justify-content: stretch;
        align-items: stretch;
        margin: -15px;
        height: 75px;
      }
      .flex-buttons dnn-button{
        flex-grow: 1;
        margin: 15px;
      }
    </style>
    <div class="flex-buttons">
      <dnn-button>First</dnn-button>
      <dnn-button>Second</dnn-button>
      <dnn-button>Third</dnn-button>
    </div>

    <script type="text/javascript">
      let btn = document.querySelector('#confirm-button');
      btn.addEventListener('confirmed', function(){alert('confirmed')});
      btn.addEventListener('canceled', function(){alert('canceled')});
    </script>
  </section>

  <!-- dnn-modal -->
  <section>
    <h2>dnn-modal</h2>
    <dnn-modal id="my-modal" backdrop-dismiss="false">I am a modal !</dnn-modal>
    <dnn-modal id="my-modal2" >I am a modal, but you can click outside me to dismiss me !</dnn-modal>
    <dnn-modal id="my-modal3" show-close-button="false" >I am a modal, I have no close button, so click the backdrop to get rid of me !</dnn-modal>
    <dnn-button
      onclick="showModal()"
    >Show Modal</dnn-button>
    <dnn-button
      onclick="showModal2()"
    >Modal with backdrop dismiss</dnn-button>
    <dnn-button
      onclick="showModal3()"
    >Modal with no close button</dnn-button>

    <script type="text/javascript">
      function showModal(){
        document.querySelector('#my-modal').show();
      }

      function showModal2(){
        document.querySelector('#my-modal2').show();
      }

      function showModal3(){
        document.querySelector('#my-modal3').show();
      }
    </script>
  </section>

  <!-- dnn-chevron / dnn-collapsible -->
  <section>
      <h2>dnn-chevron / dnn-collapsible</h2>
      
      <style type="text/css">
        .collapse-row{
          border: 1px solid grey;
        }
        .collapse-row .collapse-title{
          display:flex;
          align-items: center;
          background-color: whitesmoke;
        }
        .collapse-row .collapse-title>*{
          margin: 10px;
        }
      </style>
      
      <div class="collapse-row">
        <div class="collapse-title">
          <dnn-chevron id="dnn-chevron1"></dnn-chevron>
          <strong>Collapsible Panel</strong>
        </div>
        <dnn-collapsible id="dnn-collapsible1" transition-duration="1000">
          <div id="collapsible-slot-content" style="padding: 15px;">
            <h2>Details</h2>
            <p>
              Spicy jalapeno bacon ipsum dolor amet bresaola kielbasa doner ham hock biltong, swine shoulder leberkas cupim. Sausage capicola buffalo, tongue jerky frankfurter biltong pork swine landjaeger. Porchetta alcatra burgdoggen beef ribs short ribs corned beef, biltong flank bresaola kielbasa. Ham hock beef kielbasa, cupim cow beef ribs doner. T-bone cow shoulder chuck pastrami. Alcatra pig filet mignon shank. Pancetta shankle meatloaf sausage meatball cupim.
            </p>
            <p>
              Capicola short ribs boudin chicken andouille cow. Short loin bresaola buffalo short ribs meatball tongue. Buffalo tri-tip short ribs corned beef. Pork belly turducken picanha bresaola, sausage ham cupim. Ribeye venison shoulder t-bone filet mignon rump, pork belly meatloaf turkey frankfurter spare ribs ham hamburger cupim. Tri-tip pastrami ham hock corned beef. Frankfurter shankle cow tail venison.
            </p>
            <p>
              Fatback boudin doner, frankfurter buffalo meatball sirloin. Pork loin pastrami rump short loin venison. Venison pastrami beef bresaola. Leberkas hamburger short ribs burgdoggen short loin cow shankle meatloaf andouille.
            </p>
            <div class="collapse-row">
              <div class="collapse-title">
                <dnn-chevron id="dnn-sub-chevron"></dnn-chevron>
                <strong>Collapsible children</strong>
              </div>
              <dnn-collapsible id="dnn-collapsible-nested">
                <div style="padding: 15px;">
                  <h2>Sub-details</h2>
                  <p>
                    Spicy jalapeno bacon ipsum dolor amet bresaola kielbasa doner ham hock biltong, swine shoulder leberkas cupim. Sausage capicola buffalo, tongue jerky frankfurter biltong pork swine landjaeger. Porchetta alcatra burgdoggen beef ribs short ribs corned beef, biltong flank bresaola kielbasa. Ham hock beef kielbasa, cupim cow beef ribs doner. T-bone cow shoulder chuck pastrami. Alcatra pig filet mignon shank. Pancetta shankle meatloaf sausage meatball cupim.
                  </p>
                  <p>
                    Capicola short ribs boudin chicken andouille cow. Short loin bresaola buffalo short ribs meatball tongue. Buffalo tri-tip short ribs corned beef. Pork belly turducken picanha bresaola, sausage ham cupim. Ribeye venison shoulder t-bone filet mignon rump, pork belly meatloaf turkey frankfurter spare ribs ham hamburger cupim. Tri-tip pastrami ham hock corned beef. Frankfurter shankle cow tail venison.
                  </p>
                  <p>
                    Fatback boudin doner, frankfurter buffalo meatball sirloin. Pork loin pastrami rump short loin venison. Venison pastrami beef bresaola. Leberkas hamburger short ribs burgdoggen short loin cow shankle meatloaf andouille.
                  </p>
                </div>
              </dnn-collapsible>
            </div>
          </div>
        </dnn-collapsible>
        <template id="test-paragraph">
          <p id="testP">
            This paragraph is here to test the behaviour of the dnn-collapsible when it's content dynamically changes.<br />
            It appears and disapears every 10 seconds.
          </p>
        </template>
      </div>
  
      <script type="text/javascript">
        const chevronOne = document.querySelector('#dnn-chevron1')
        const collapsibleOne = document.querySelector('#dnn-collapsible1');
        const subChevron = document.querySelector('#dnn-sub-chevron')
        const nestedCollapsible = document.querySelector('#dnn-collapsible-nested');

        // Expands the related collapsible when the chevron gets clicked.
        chevronOne.addEventListener('changed', e => {
          collapsibleOne.expanded = e.detail;
        });

        // Expands the related collapsible when the chevron gets clicked.
        subChevron.addEventListener('changed', e => {
          nestedCollapsible.expanded = e.detail;
        });

        // Testing dynamically added/removed content to collapsible
        setInterval(() => {
          const template = document.querySelector('#test-paragraph');
          const content = template.content;
          const slot = document.querySelector('#collapsible-slot-content')
          
          const testParagraph = slot.parentNode.querySelector('#testP');
          if (testParagraph){
            testParagraph.remove();
          }
          else{
            slot.appendChild(content.cloneNode(true));
          }
        }, 10000);
      </script>
    </section>

  <!-- dnn-searchbox -->
  <section>
    <h2>dnn-searchbox</h2>
    <dnn-searchbox></dnn-searchbox>
    <br /> <br />

    <dnn-searchbox placeholder="With a placeholder..."></dnn-searchbox>
    <br /><br />

    <div style="display:flex;justify-content: space-between;">
      <dnn-searchbox id="not-debounced" debounced="false" placeholder="Not debounced..." style="width: 48%;"></dnn-searchbox>
      <span style="width: 48%;"></span>
    </div>
    <br /><br />

    <div style="display:flex;justify-content: space-between;">
      <dnn-searchbox id="debounced" placeholder="Debounced..." style="width: 48%;"></dnn-searchbox>
      <span style="width: 48%;"></span>
    </div>

    <script type="text/javascript">
      const notDebounced = document.querySelector('dnn-searchbox#not-debounced');
      notDebounced.addEventListener('queryChanged', e => {
        notDebounced.parentElement.querySelector('span').innerText = e.detail;
      });

      const debounced = document.querySelector('dnn-searchbox#debounced');
      debounced.addEventListener('queryChanged', e => {
        debounced.parentElement.querySelector('span').innerText = e.detail;
      });
    </script>
  </section>


  <!-- dnn-searchbox -->
  <section>
    <h2>dnn-color-picker</h2>
    <dnn-color-picker color="884422"></dnn-color-picker>
    <dnn-color-picker color="FF0000" color-box-height="30%"></dnn-color-picker>

    <script type="text/javascript">
      const picker = document.querySelector('dnn-color-picker');
      picker.addEventListener('colorChanged', function(e){
        console.log(e.detail);
      });
    </script>
  </section>

  <!-- dnn sort icon -->
  <section>
    <h2>dnn-sort-icon</h2>
    Sort 1 <dnn-sort-icon id="dnn-sort-1"></dnn-sort-icon>
    Sort 2 <dnn-sort-icon id="dnn-sort-2"></dnn-sort-icon>
    Sort 3 <dnn-sort-icon id="dnn-sort-3"></dnn-sort-icon>

    <script type="text/javascript">
      const dnnSorts = document.querySelectorAll('dnn-sort-icon');
      dnnSorts.forEach(el => {
        el.addEventListener('sortChanged', e => {
          const id = e.target.id;
          dnnSorts.forEach(si => {
            if (si.id !== id){
              si.sortDirection = "none";
            }
          });
        });
      });
    </script>
  </section>

  <!-- dnn-toggle -->
  <section>
    <h2>dnn-toggle</h2>
    <label>Unchecked toggle: </label><dnn-toggle></dnn-toggle>&nbsp;&nbsp;
    <label>Checked toggle: </label><dnn-toggle checked></dnn-toggle>&nbsp;&nbsp;
    <label>Disabled Unchecked: </label><dnn-toggle disabled></dnn-toggle>&nbsp;&nbsp;
    <label>Disabled Checked: </label><dnn-toggle disabled checked></dnn-toggle>
    <label>Custom Colors: </label><dnn-toggle class="toggle-custom-colors"></dnn-toggle>

    <script type="text/javascript">
      const dnnToggles = document.querySelectorAll('dnn-toggle');
      dnnToggles.forEach(dnnToggle => {
        dnnToggle.addEventListener('checkChanged', e => {
          console.log(e.detail);
        });
      });
    </script>
  </section>

  <!-- dnn-dropzone -->
  <section>
    <h2>dnn-dropzone</h2>
    <p>Allows dropping a file, selecting a file or taking a picture with the device camera.</p>
    <dnn-dropzone allow-camera-mode id="dnnDropZone" />
    <script type="text/javascript">
      const dnnDropZone = document.querySelector("#dnnDropZone");
      dnnDropZone.addEventListener("filesSelected", e => console.log(e.detail));
    </script>
  </section>

  <!-- dnn-image-crop -->
  <section>
    <h2>dnn-image-cropper</h2>
    <p>Allows cropping an image in the browser.</p>
    <dnn-image-cropper id="dnnImageCropper" />
    <script type="text/javascript">
      const dnnImageCropper = document.querySelector("#dnnImageCropper");
      dnnImageCropper.addEventListener("imageCropChanged", e => console.log(e.detail));
    </script>
  </section>
</body>
</html>
