"use strict";(self.webpackChunk_dnncommunity_dnn_elements=self.webpackChunk_dnncommunity_dnn_elements||[]).push([[6680],{"./dist/esm/dnn-permissions-grid.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{dnn_permissions_grid:()=>DnnPermissionsGrid});var _index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-a2e9a98f.js");const DnnPermissionsGrid=class{constructor(hostRef){(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.userSearchQueryChanged=(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"userSearchQueryChanged",7),this.permissionsChanged=(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"permissionsChanged",7),this.defaultResx={Add:"Add",AllRoles:"All Roles",FilterByGroup:"Filter By Group",GlobalRoles:"Global Roles",Role:"Role",RolePermissions:"Role Permissions",SelectRole:"Select Role",User:"User",UserPermissions:"User Permissions"},this.permissions=void 0,this.roleGroups=void 0,this.roles=void 0,this.resx=void 0,this.foundUsers=[],this.selectedRoleGroupId=-1,this.userQuery=void 0,this.pickedUser=void 0,this.localResx=void 0,this.focused=!1}handleFoundUsersChanged(newValue){(null==newValue?void 0:newValue.length)>0&&setTimeout((()=>{this.userCollapsible.expanded=!0}),100)}resxChanged(){this.mergeResx()}componentWillLoad(){document.addEventListener("click",this.dismissUserResults.bind(this)),this.mergeResx()}disconnectedCallback(){document.removeEventListener("click",this.disconnectedCallback.bind(this))}mergeResx(){this.localResx=Object.assign(Object.assign({},this.defaultResx),this.resx)}dismissUserResults(e){const dropdownRect=this.roleDropDown.getBoundingClientRect();(e.pageX>dropdownRect.right||e.pageX<dropdownRect.left||e.pageY>dropdownRect.bottom||e.pageY<dropdownRect.top)&&(this.userCollapsible.expanded=!1)}handleRoleGroupChanged(dropdown){const index=dropdown.selectedIndex,value=Number.parseInt(dropdown.options[index].value);this.selectedRoleGroupId=value}addRole(){const roleId=Number.parseInt(this.roleDropDown.options[this.roleDropDown.selectedIndex].value),role=this.roles.filter((r=>r.RoleId==roleId))[0];this.permissions=Object.assign(Object.assign({},this.permissions),{rolePermissions:[...this.permissions.rolePermissions,{default:!1,locked:!1,permissions:[],roleId:role.RoleId,roleName:role.RoleName}]}),this.permissionsChanged.emit(this.permissions)}addUser(){null!=this.pickedUser&&(this.permissions=Object.assign(Object.assign({},this.permissions),{userPermissions:[...this.permissions.userPermissions,{displayName:this.pickedUser.displayName,permissions:[],userId:this.pickedUser.userId}]}),this.pickedUser=void 0,this.userQuery="",this.permissionsChanged.emit(this.permissions))}getRoles(){const filteredRoles=this.roles.filter((role=>!this.permissions.rolePermissions.some((rp=>rp.roleId==role.RoleId))));return-2==this.selectedRoleGroupId?filteredRoles:-1==this.selectedRoleGroupId?filteredRoles.filter((role=>role.IsSystemRole)):filteredRoles.filter((role=>role.RoleGroupId==this.selectedRoleGroupId))}renderRoleCheckBox(rolePermission,permissionDefinition){const item=rolePermission.permissions.filter((permission=>permission.permissionId==permissionDefinition.permissionId))[0];if(rolePermission.locked)return(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("g",{fill:"none"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M0 0h24v24H0V0z"}),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M0 0h24v24H0V0z",opacity:".87"})),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}));const checked=null==item?"intermediate":item.allowAccess?"checked":"unchecked";return(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",null,(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"hidden"},permissionDefinition.permissionName),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("dnn-checkbox",{useIntermediate:!0,nextStateHandler:state=>this.handleNextState(state),checked,onCheckedchange:e=>this.handleRoleChanged(e.detail,rolePermission,permissionDefinition)},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{slot:"intermediateicon"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{slot:"uncheckedicon"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"})))))}renderUserCheckBox(userPermission,permissionDefinition){const item=userPermission.permissions.filter((permission=>permission.permissionId==permissionDefinition.permissionId))[0],checked=null==item?"intermediate":item.allowAccess?"checked":"unchecked";return(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",null,(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("span",{class:"hidden"},permissionDefinition.permissionName),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("dnn-checkbox",{useIntermediate:!0,nextStateHandler:state=>this.handleNextState(state),checked,onCheckedchange:e=>this.handleUserChanged(e.detail,userPermission,permissionDefinition)},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{slot:"intermediateicon"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{slot:"uncheckedicon"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z"})))))}handleNextState(state){switch(state){case"checked":return"unchecked";case"unchecked":return"intermediate";default:return"checked"}}handleRoleChanged(checked,rolePermission,permissionDefinition){switch(checked){case"unchecked":this.permissions=Object.assign(Object.assign({},this.permissions),{rolePermissions:[...this.permissions.rolePermissions.map((r=>{if(r.roleId!=rolePermission.roleId)return r;const newRolePermission=Object.assign({},r);return newRolePermission.permissions=[...newRolePermission.permissions.filter((p=>p.permissionId!=permissionDefinition.permissionId)),{allowAccess:!1,fullControl:!1,permissionCode:permissionDefinition.permissionCode,permissionId:permissionDefinition.permissionId,permissionKey:permissionDefinition.permissionKey,permissionName:permissionDefinition.permissionName,view:!1}],newRolePermission}))]});break;case"checked":this.permissions=Object.assign(Object.assign({},this.permissions),{rolePermissions:[...this.permissions.rolePermissions.map((r=>{if(r.roleId!=rolePermission.roleId)return r;const newRolePermission=Object.assign({},r);return newRolePermission.permissions=[...newRolePermission.permissions.filter((p=>p.permissionId!=permissionDefinition.permissionId)),{allowAccess:!0,fullControl:!1,permissionCode:permissionDefinition.permissionCode,permissionId:permissionDefinition.permissionId,permissionKey:permissionDefinition.permissionKey,permissionName:permissionDefinition.permissionName,view:!1}],newRolePermission}))]});break;case"intermediate":this.permissions=Object.assign(Object.assign({},this.permissions),{rolePermissions:[...this.permissions.rolePermissions.map((r=>{if(r.roleId!=rolePermission.roleId)return r;const newRolePermission=Object.assign({},r);return newRolePermission.permissions=[...newRolePermission.permissions.filter((p=>p.permissionId!=permissionDefinition.permissionId))],newRolePermission}))]})}this.permissionsChanged.emit(this.permissions)}handleUserChanged(checked,userPermission,permissionDefinition){switch(checked){case"unchecked":this.permissions=Object.assign(Object.assign({},this.permissions),{userPermissions:[...this.permissions.userPermissions.map((u=>{if(u.userId!=userPermission.userId)return u;const newUserPermission=Object.assign({},u);return newUserPermission.permissions=[...newUserPermission.permissions.filter((p=>p.permissionId!=permissionDefinition.permissionId)),{allowAccess:!1,fullControl:!1,permissionCode:permissionDefinition.permissionCode,permissionId:permissionDefinition.permissionId,permissionKey:permissionDefinition.permissionKey,permissionName:permissionDefinition.permissionName,view:!1}],newUserPermission}))]});break;case"checked":this.permissions=Object.assign(Object.assign({},this.permissions),{userPermissions:[...this.permissions.userPermissions.map((u=>{if(u.userId!=userPermission.userId)return u;const newUserPermission=Object.assign({},u);return newUserPermission.permissions=[...newUserPermission.permissions.filter((p=>p.permissionId!=permissionDefinition.permissionId)),{allowAccess:!0,fullControl:!1,permissionCode:permissionDefinition.permissionCode,permissionId:permissionDefinition.permissionId,permissionKey:permissionDefinition.permissionKey,permissionName:permissionDefinition.permissionName,view:!1}],newUserPermission}))]});break;case"intermediate":this.permissions=Object.assign(Object.assign({},this.permissions),{userPermissions:[...this.permissions.userPermissions.map((u=>{if(u.userId!=userPermission.userId)return u;const newUserPermission=Object.assign({},u);return newUserPermission.permissions=[...newUserPermission.permissions.filter((p=>p.permissionId!=permissionDefinition.permissionId))],newUserPermission}))]})}this.permissionsChanged.emit(this.permissions)}removeRole(rolePermission){this.permissions=Object.assign(Object.assign({},this.permissions),{rolePermissions:[...this.permissions.rolePermissions.filter((rp=>rp.roleId!=rolePermission.roleId))]}),this.permissionsChanged.emit()}removeUser(userPermission){this.permissions=Object.assign(Object.assign({},this.permissions),{userPermissions:[...this.permissions.userPermissions.filter((up=>up.userId!=userPermission.userId))]}),this.permissionsChanged.emit(this.permissions)}handleQueryChanged(query){if(this.userQuery=query,null==query||0==query.length)return this.userCollapsible.expanded=!1,this.pickedUser=void 0,void(this.foundUsers=[]);this.userSearchQueryChanged.emit(query)}handleSearchUserFieldKeyDown(e){if("ArrowDown"!=e.key)return;e.preventDefault();const firstButton=this.userCollapsible.querySelector("button");null!=firstButton&&firstButton.focus()}handleSearchedUserKeyDown(e){const button=e.target;switch(e.key){case"ArrowDown":e.preventDefault();const nextButton=button.nextElementSibling;null==nextButton||nextButton.focus();break;case"ArrowUp":e.preventDefault();const previousButton=button.previousElementSibling;null==previousButton||previousButton.focus()}}handleUserPicked(searchedUser){this.userQuery=searchedUser.displayName,this.pickedUser=searchedUser}getFilteredUsers(){return this.foundUsers.filter((fu=>!this.permissions.userPermissions.some((up=>up.userId==fu.userId))))}render(){const filteredRoles=this.getRoles();return(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.H,{key:"aa5bcb726609a04b6dad78274a67511950d761f4",tabIndex:this.focused?-1:0,onFocus:()=>this.rolesDropdown.focus(),onBlur:()=>this.rolesDropdown.blur()},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"787605cbb898d983fdd66311a165febdc3604365",class:"add-role-row"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"5b0a39fb334f9b24e9b2a7bfdd4dddac29a1a38e",class:"dropdown"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{key:"3fe9beefb2addc2f48e62f1b00c49a24c3dd077f"},this.localResx.FilterByGroup," :"),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("select",{key:"6949c0de5aa4e33c41083cf208988a041955a5f8",ref:el=>this.rolesDropdown=el,onChange:e=>this.handleRoleGroupChanged(e.target),onFocus:()=>this.focused=!0,onBlur:()=>this.focused=!1},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("option",{key:"a68744b35d50c76c74ecab7f9444161b6a0ad357",value:-2,selected:-2==this.selectedRoleGroupId},this.localResx.AllRoles),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("option",{key:"298a553685cd393efea7c19fc84ff3f5b6e2c14e",value:-1,selected:-1==this.selectedRoleGroupId},this.localResx.GlobalRoles),this.roleGroups.map((roleGroup=>(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("option",{value:roleGroup.id,selected:this.selectedRoleGroupId==roleGroup.id},roleGroup.name))))),filteredRoles&&filteredRoles.length>0&&[(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"81aa6af63532b45a12de309d61d91025487bb89b",class:"dropdown"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("label",{key:"f7955613ad565920eea350fbc5e43f71b3128077"},this.localResx.SelectRole," :"),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("select",{key:"f5f2ea97e2c65deaf9055f4a4add81e4c2e86653",ref:el=>this.roleDropDown=el},this.getRoles().map((role=>(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("option",{value:role.RoleId},role.RoleName))))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("dnn-button",{key:"49323d82e9b75d60b3787c7c68f78ba5d9e6d616",type:"primary",onClick:()=>this.addRole()},this.localResx.Add)]),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("table",{key:"f7d507656eba61da5880b112a25771969409b941",class:"roles-table"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("caption",{key:"d2ba5d535514136ff3b5c9fd0eeac03c19d45319"},this.localResx.RolePermissions),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("thead",{key:"bd72016d4f96ba53cddccdc9a531fec20525539b"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr",{key:"22b3eef061501e40073da370b30802c59993b189"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("th",{key:"f6d5a5aebf0d0e5dc808d39b5c17541164bd332a"},this.localResx.Role),this.permissions.permissionDefinitions.map((permissionDefinition=>(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("th",null,permissionDefinition.permissionName))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("th",{key:"e02583f0aef2fd21feff52337f4335a448a67522"}," "))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("tbody",{key:"1b70292a7899c4f725b390a1e796f240545a39ad"},this.permissions.rolePermissions.map((rolePermission=>(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr",null,(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("th",null,rolePermission.roleName),this.permissions.permissionDefinitions.map((permissionDefinition=>(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("td",null,this.renderRoleCheckBox(rolePermission,permissionDefinition)))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("td",null,!rolePermission.default&&(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{onClick:()=>this.removeRole(rolePermission)},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))))))))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"16e671a7cacf95f877aa6a9242da51aec6d67398",class:"search-user"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"a6bc24d1671bd627cff7dffaef13922fb81ccf18",class:"search-control"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("dnn-searchbox",{key:"5a3b908694e84abff8e5740a8da755ff9995c32b",placeholder:this.localResx.User,debounced:!0,onQueryChanged:e=>this.handleQueryChanged(e.detail),onKeyDown:e=>this.handleSearchUserFieldKeyDown(e),query:this.userQuery}),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("dnn-collapsible",{key:"6478187d9dfcbf009990ce49010fae65376be1a0",ref:el=>this.userCollapsible=el},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"5831710ea3e9523f2f2955cb987c288097c9b44f",class:"dropdown"},this.getFilteredUsers().map((searchedUser=>(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{onKeyDown:e=>this.handleSearchedUserKeyDown(e),onClick:()=>this.handleUserPicked(searchedUser)},searchedUser.displayName)))))),this.pickedUser&&(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("dnn-button",{key:"64ca8f8e60428143cdb477da38c75b7e80cd9914",onClick:()=>this.addUser()},this.localResx.Add)),this.permissions.userPermissions&&this.permissions.userPermissions.length>0&&(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("table",{key:"48ff3fcbf41ce24fb959f74d71bcea858702a13d",class:"users-table"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("caption",{key:"854a089a39b2b5002f931957b90863c8a2f2612c"},this.localResx.UserPermissions),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("thead",{key:"d807e93f1b48ec6ee9c5b72be8f3b1c8806eaa49"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr",{key:"7e8e9b09ff162e742e2c8170f7ad1ee086a1e215"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("th",{key:"9c54de787b6e1cedba6a0eab6e8d736236ad88d0"},this.localResx.User),this.permissions.permissionDefinitions.map((permissionDefinition=>(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("th",null,permissionDefinition.permissionName))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("th",{key:"6a6a730933492b0ab4dc6c3ae482adf657a3e8b0"}," "))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("tbody",{key:"95d21c93c57e14e63e3719f25dc96db7a119d1a5"},this.permissions.userPermissions.map((userPermission=>(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("tr",null,(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("th",null,userPermission.displayName),this.permissions.permissionDefinitions.map((permissionDefinition=>(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("td",null,this.renderUserCheckBox(userPermission,permissionDefinition)))),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("td",null,(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{onClick:()=>this.removeUser(userPermission)},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),(0,_index_a2e9a98f_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}))))))))))}static get watchers(){return{foundUsers:["handleFoundUsersChanged"],resx:["resxChanged"]}}};DnnPermissionsGrid.style=":host{display:block}.add-role-row{display:flex;gap:1em;align-items:center;flex-wrap:wrap}.add-role-row label{margin-right:0.5em}.search-user{display:flex;gap:1em;margin-top:1em}.search-user .search-control{position:relative}.search-user .search-control dnn-collapsible{position:absolute;left:0;top:calc(100% - 2px);width:100%;box-shadow:0px 4px 4px}.search-user .search-control dnn-collapsible .dropdown{background-color:white;border:1px solid lightgray;display:flex;flex-direction:column}.search-user .search-control dnn-collapsible .dropdown button{background-color:transparent;border:none;border-bottom:1px solid lightgray;padding:0.25em;margin:0;text-align:left}table{border:1px solid lightgray;border-collapse:collapse;margin-top:1em}table thead{text-align:center}table thead tr{border-bottom:1px solid lightgray}table thead th{background-color:lightgray;padding:0.25em 0.5em}table thead th:first-child{border-right:1px solid lightgray}table tbody tr{border-bottom:1px dotted lightgray}table tbody tr th{text-align:left;border-right:1px solid lightgray;padding:0 0.5em}table tbody tr td{text-align:center}table tbody tr td label .hidden{display:none}table tbody tr td button{background-color:transparent;border:0;padding:0;margin:0;margin-right:1em}"}}]);