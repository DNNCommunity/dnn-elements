"use strict";(self.webpackChunk_dnncommunity_dnn_elements=self.webpackChunk_dnncommunity_dnn_elements||[]).push([[7495],{"../../node_modules/@storybook/addon-actions/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o1:()=>actions});var external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/internal/preview-api"),external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_=__webpack_require__("storybook/internal/preview-errors"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),v4=__webpack_require__("../../node_modules/uuid/dist/esm-browser/v4.js"),ADDON_ID="storybook/actions",EVENT_ID=`${ADDON_ID}/action-event`,config={depth:10,clearOnStoryChange:!0,limit:50},findProto=(obj,callback)=>{let proto=Object.getPrototypeOf(obj);return!proto||callback(proto)?proto:findProto(proto,callback)},serializeArg=a=>{if("object"==typeof(e=a)&&e&&findProto(e,(proto=>/^Synthetic(?:Base)?Event$/.test(proto.constructor.name)))&&"function"==typeof e.persist){let e=Object.create(a.constructor.prototype,Object.getOwnPropertyDescriptors(a));e.persist();let viewDescriptor=Object.getOwnPropertyDescriptor(e,"view"),view=viewDescriptor?.value;return"object"==typeof view&&"Window"===view?.constructor.name&&Object.defineProperty(e,"view",{...viewDescriptor,value:Object.create(view.constructor.prototype)}),e}var e;return a};function action(name,options={}){let actionOptions={...config,...options},handler=function(...args){if(options.implicit){let storyRenderer=("__STORYBOOK_PREVIEW__"in external_STORYBOOK_MODULE_GLOBAL_.global?external_STORYBOOK_MODULE_GLOBAL_.global.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find((render=>"playing"===render.phase||"rendering"===render.phase));if(storyRenderer){let deprecated=!window?.FEATURES?.disallowImplicitActionsInRenderV8,error=new external_STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS_.ImplicitActionsDuringRendering({phase:storyRenderer.phase,name,deprecated});if(!deprecated)throw error;console.warn(error)}}let channel=external_STORYBOOK_MODULE_PREVIEW_API_.addons.getChannel(),id="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?(0,v4.A)():Date.now().toString(36)+Math.random().toString(36).substring(2),serializedArgs=args.map(serializeArg),normalizedArgs=args.length>1?serializedArgs:serializedArgs[0],actionDisplayToEmit={id,count:0,data:{name,args:normalizedArgs},options:{...actionOptions,maxDepth:5+(actionOptions.depth||3),allowFunction:actionOptions.allowFunction||!1}};channel.emit(EVENT_ID,actionDisplayToEmit)};return handler.isAction=!0,handler.implicit=options.implicit,handler}var actions=(...args)=>{let options=config,names=args;1===names.length&&Array.isArray(names[0])&&([names]=names),1!==names.length&&"string"!=typeof names[names.length-1]&&(options={...config,...names.pop()});let namesObject=names[0];(1!==names.length||"string"==typeof namesObject)&&(namesObject={},names.forEach((name=>{namesObject[name]=name})));let actionsObject={};return Object.keys(namesObject).forEach((name=>{actionsObject[name]=action(namesObject[name],options)})),actionsObject}},"./src/components/dnn-autocomplete/dnn-button.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>dnn_button_stories});var lit=__webpack_require__("../../node_modules/lit/index.js"),dist=__webpack_require__("../../node_modules/@storybook/addon-actions/dist/index.mjs");const dnn_button_stories={title:"Elements/AutoComplete",component:"dnn-autocomplete",tags:["autodocs"],parameters:{docs:{description:{component:'# dnn-autocomplete\n\nBuilding a component that is flexible enough for multiple use cases is not easy. This component externalizes some of its behavior to make it more reusable. To use it effectivelly please read the usage examples carefuly.\n\n## Most Basic Usage\nYou need to at least provide the list of items and refresh the results with your own logic for the searched terms. Suggestions are not just strings, they are an object with a `value` and a `label`. If you are in a typed environment, `DnnAutocompleteSuggestion` is the type to use for individual suggestions. The label is what shows to the user and the value is what gets posted in both events and form values. The `onSearchQueryChanged` event lets you know to refresh your list of suggestions.\n\nData can be a harcoded list or an API call or whatever makes sense for your use case.\n\n## Customizing the display of items\nWe have made it so the consumer can totally customize how suggestions are displayed, this is a very powerful feature that makes this component very reusable. If not customized, the out-of-box experience is to just display the label in plain text in the dropdown. But you can hook into the `renderSuggestion` callback to override that default behavior. You receive the suggestion item and return the html to display.\n\n\x3c!-- Auto Generated Below --\x3e\n\n\n## Usage\n\n### HTML\n\n#### Most Basic Usage\r\n```html\r\n<script type="text/javascript">\r\ndocument.addEventListener("DOMContentLoaded", () => {\r\n    var dnnAutoComplete = document.querySelector("#dnnAutoComplete");\r\n\r\n    var suggestions =\r\n    [\r\n        { value: "1", label: "johnsmith" },\r\n        { value: "2", label: "sarahjones" },\r\n        { value: "3", label: "mikeross" },\r\n        { value: "4", label: "emilyclark" },\r\n        { value: "5", label: "davemiller" },\r\n        { value: "6", label: "lindagreen" },\r\n        { value: "7", label: "chrisevans" },\r\n        { value: "8", label: "lisawhite" },\r\n        { value: "9", label: "tomharris" },\r\n        { value: "10", label: "jennymoore" }\r\n    ];\r\n\r\n    dnnAutoComplete.addEventListener("searchQueryChanged", query => {\r\n        if (query == undefined || query == ""){\r\n            dnnAutoComplete.suggestions = this.suggestions;\r\n            return;\r\n        }\r\n        dnnAutoComplete.suggestions = this.suggestions.filter(user => \r\n            user.label.toLowerCase().includes(query.toLowerCase));\r\n    })\r\n});\r\n<\/script>\r\n\r\n<dnn-autocomplete\r\n    label="UserName"\r\n    id="dnnAutoComplete"\r\n    suggestions={this.filteredSuggestions}\r\n    onSearchQueryChanged={e => this.handleSearchQueryChanged(e.detail)}\r\n/>\r\n```\r\n\r\n#### Customizing the display of items\r\n```html\r\n<script type="text/javascript">\r\n    document.addEventListener("DOMContentLoaded", () => {\r\n        var dnnAutoComplete = document.querySelector("#dnnAutoComplete");\r\n\r\n        dnnAutoComplete.renderSuggesion = function(suggestion){\r\n            var user = // Some logic that gets a user info...\r\n\r\n            var div = document.createElement("div");\r\n            div.style="display: flex";\r\n            var img = document.createElement("img");\r\n            img.src = user.profilePic;\r\n            div.appendChild(img);\r\n            var span = document.createElement("span");\r\n            span.innerText = user.firstName + " " + user.lastName;\r\n            div.appendChild(span);\r\n            return div;\r\n        };\r\n    });\r\n<\/script>\r\n\r\n<dnn-autocomplete\r\n    id="dnnAutoComplete"\r\n/>\r\n```\r\n\r\n#### Using a paging API\r\n```html\r\n<script type="text/javascript">\r\ndocument.addEventListener("DOMContentLoaded", () => {\r\n    var dnnAutoComplete = document.querySelector("#dnnAutoComplete");\r\n\r\n    var lastFetchedPage = 0;\r\n    var suggestions = [];\r\n\r\n    dnnAutoComplete.addEventListener("searchChanged", e => \r\n    {\r\n        var query = e.detail;\r\n        fetch(`https://some.endpoint.com/search/${query}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            lastFetchedPage = 1;\r\n            dnnAutoComplete.totalSuggestions = data.totalResults;\r\n            suggestions = data.results;\r\n            dnnAutoComplete.suggestions = suggestions;\r\n        });\r\n    });\r\n\r\n    dnnAutoComplete.addEventListener("NeedMoreItems", () =>\r\n    {\r\n        fetch(`https://some.endpoint.com/search/${query}/page=${lastFetchedPage + 1}`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            lastFetchedPage++;\r\n            suggestions.push(data.results);\r\n            dnnAutoComplete.suggestions = suggestions;\r\n        });\r\n    });\r\n});\r\n<\/script>\r\n\r\n<dnn-autocomplete\r\n    id="dnnAutoComplete"\r\n/>\r\n```\n\n\n### JSX-TSX\n\n#### Most Basic Usage\r\n```tsx\r\nconst suggestions =\r\n[\r\n    { value: "1", label: "johnsmith" },\r\n    { value: "2", label: "sarahjones" },\r\n    { value: "3", label: "mikeross" },\r\n    { value: "4", label: "emilyclark" },\r\n    { value: "5", label: "davemiller" },\r\n    { value: "6", label: "lindagreen" },\r\n    { value: "7", label: "chrisevans" },\r\n    { value: "8", label: "lisawhite" },\r\n    { value: "9", label: "tomharris" },\r\n    { value: "10", label: "jennymoore" }\r\n];\r\n\r\nlet filteredSuggestions = suggestions;\r\n\r\nprivate handleSearchQueryChanged(query){\r\n    if (query == undefined || query == ""){\r\n        this.filteredSuggestions = this.suggestions;\r\n        return;\r\n    }\r\n    this.filteredSuggestions = this.suggestions.filter(user => \r\n        user.label.toLowerCase().includes(query.toLowerCase));\r\n}\r\n\r\nrender(){\r\n    return(\r\n        <dnn-autocomplete\r\n            label="UserName"\r\n            suggestions={this.filteredSuggestions}\r\n            onSearchQueryChanged={e => this.handleSearchQueryChanged(e.detail)}\r\n        />\r\n    )\r\n}\r\n```\r\n\r\n#### Customizing the display of items\r\n```tsx\r\nprivate handleRenderSuggestion(suggestion){\r\n    var user = this.getUserDetails(suggestion.value)\r\n    return(\r\n        <div style="display: flex;">\r\n            <img src=`${user.profilePic}.jpg` />\r\n            <span>{user.firstName} {user.lastName}</span>\r\n        </div>\r\n    );\r\n}\r\n\r\nprivate getUserDetails(userId){\r\n    return // Some logic that returns a user object...\r\n}\r\n\r\nrender(){\r\n    return(\r\n        <dnn-autocomplete\r\n            // Some other props\r\n            renderSuggestion={suggestion => this.handleRenderSuggestion(suggestion)}\r\n        />\r\n    );\r\n}\r\n```\r\n\r\n#### Using a paging API\r\n```tsx\r\nlet lastFetchedPage = 0;\r\nlet totalSuggesitons = 0;\r\nlet suggestions = [];\r\n\r\nprivate handleSearchChanged(query){\r\n    fetch(`https://some.endpoint.com/search/${query}`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        this.lastFetchedPage = 1;\r\n        this.totalSuggestion = data.totalResults;\r\n        this.suggestions = data.results;\r\n    });\r\n}\r\n\r\nprivate handleLoadMore(query){\r\n    fetch(`https://some.endpoint.com/search/${query}/page=${this.lastFetchedPage + 1}`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        this.lastFetchedPage++;\r\n        this.suggestions = [...this.suggestions, data.results];\r\n    });\r\n}\r\n\r\n<dnn-autocomplete\r\n    suggestions={this.suggestions}\r\n    totalSuggestions={this.totalSuggestions}\r\n    onSearchQueryChanged={e => {\r\n        this.handleSearchChanged(e.detail);\r\n    }}\r\n    onNeedMoreItems={e => this.loadMore(e.detail.searchTerm)}\r\n/>\r\n```\n\n\n\n## Properties\n\n| Property                 | Attribute                  | Description                                                                                                                                                                                           | Type                                                     | Default     |\n| ------------------------ | -------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------- | ----------- |\n| `autocomplete`           | `autocomplete`             | Defines the type of automatic completion the browser could use. See https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete                                                         | `string`                                                 | `"off"`     |\n| `disabled`               | `disabled`                 | Defines whether the field is disabled.                                                                                                                                                                | `boolean`                                                | `undefined` |\n| `helpText`               | `help-text`                | Defines the help label displayed under the field.                                                                                                                                                     | `string`                                                 | `undefined` |\n| `label`                  | `label`                    | The label for this autocomplete.                                                                                                                                                                      | `string`                                                 | `undefined` |\n| `name`                   | `name`                     | The name for this autocomplete when used in forms.                                                                                                                                                    | `string`                                                 | `undefined` |\n| `preloadThresholdPixels` | `preload-threshold-pixels` | How many suggestions to preload in pixels of their height. This is used to calculate the virtual scroll height and request more items before they get into view.                                      | `number`                                                 | `1000`      |\n| `renderSuggestion`       | --                         | Callback to render suggestions, if not provided, only the label will be rendered.                                                                                                                     | `(suggestion: DnnAutocompleteSuggestion) => HTMLElement` | `undefined` |\n| `required`               | `required`                 | Defines whether the field requires having a value.                                                                                                                                                    | `boolean`                                                | `undefined` |\n| `suggestions`            | --                         | Sets the list of suggestions.                                                                                                                                                                         | `DnnAutocompleteSuggestion[]`                            | `[]`        |\n| `totalSuggestions`       | `total-suggestions`        | The total amount of suggestions for the given search query. This can be used to show virtual scroll and pagination progressive feeding. The needMoreItems event should be used to request more items. | `number`                                                 | `undefined` |\n| `value`                  | `value`                    | Defines the value for this autocomplete                                                                                                                                                               | `string`                                                 | `undefined` |\n\n\n## Events\n\n| Event                | Description                                                                                                                                                                            | Type                                        |\n| -------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |\n| `itemSelected`       | Fires when an item is selected.                                                                                                                                                        | `CustomEvent<string>`                       |\n| `needMoreItems`      | Fires when the component needs to display more items in the suggestions.                                                                                                               | `CustomEvent<NeedMoreItemsEventArgs>`       |\n| `searchQueryChanged` | Fires when the search query has changed. This is almost like valueInput, but it is debounced and can be used to trigger a search query without overloading API endpoints while typing. | `CustomEvent<string>`                       |\n| `valueChange`        | Fires when the value has changed and the user exits the input.                                                                                                                         | `CustomEvent<number \\| string \\| string[]>` |\n| `valueInput`         | Fires when the using is inputing data (on keystrokes).                                                                                                                                 | `CustomEvent<number \\| string \\| string[]>` |\n\n\n## Methods\n\n### `checkValidity() => Promise<ValidityState>`\n\nReports the input validity details. See https://developer.mozilla.org/en-US/docs/Web/API/ValidityState\n\n#### Returns\n\nType: `Promise<ValidityState>`\n\n\n\n### `setCustomValidity(message: string) => Promise<void>`\n\nCan be used to set a custom validity message.\n\n#### Parameters\n\n| Name      | Type     | Description |\n| --------- | -------- | ----------- |\n| `message` | `string` |             |\n\n#### Returns\n\nType: `Promise<void>`\n\n\n\n\n## CSS Custom Properties\n\n| Name                 | Description                                      |\n| -------------------- | ------------------------------------------------ |\n| `--background-color` | Defines the background color.                    |\n| `--control-radius`   | Defines the radius for the control corners.      |\n| `--danger-color`     | Defines the danger color used for invalid data.  |\n| `--focus-color`      | Defines the color when the component is focused. |\n| `--foreground-color` | Defines the foreground color.                    |\n\n\n## Dependencies\n\n### Used by\n\n - [dnn-example-form](../examples/dnn-example-form)\n\n### Depends on\n\n- [dnn-fieldset](../dnn-fieldset)\n\n### Graph\n```mermaid\ngraph TD;\n  dnn-autocomplete --\x3e dnn-fieldset\n  dnn-example-form --\x3e dnn-autocomplete\n  style dnn-autocomplete fill:#f9f,stroke:#333,stroke-width:4px\n```\n\n----------------------------------------------\n\n*Built with [StencilJS](https://stenciljs.com/)*\n'}}},argTypes:{disabled:{control:"boolean"},helpText:{control:"text"},label:{control:"text"},name:{control:"text"},preloadThresholdPixels:{control:"number"},renderSuggestions:{control:"object"},required:{control:"boolean"},suggestions:{control:"object"},totalSuggestions:{control:"number"},value:{control:"text"},onSearchQueryChanged:{action:"onSearchQueryChanged"}}},eventsFromNames=(0,dist.o1)("itemSelected","needMoreItems","searchQueryChanged","valueChange","valueInput"),Primary=(args=>lit.qy`
    <dnn-autocomplete
        .disabled=${args.disabled}
        .helpText=${args.helpText}
        .label=${args.label}
        .name=${args.name}
        .preloadThresholdPixels=${args.preloadThresholdPixels}
        .renderSuggestions=${args.renderSuggestions}
        .required=${args.required}
        .suggestions=${args.suggestions}
        .totalSuggestions=${args.totalSuggestions}
        .value=${args.value}
        @itemSelected=${e=>eventsFromNames.itemSelected(e)}
        @needMoreItems=${e=>eventsFromNames.needMoreItems(e)}
        @searchQueryChanged=${args.onSearchQueryChanged?args.onSearchQueryChanged:e=>eventsFromNames.searchQueryChanged(e)}
        @valueChange=${e=>eventsFromNames.valueChange(e)}
        @valueInput=${e=>eventsFromNames.valueInput(e)}
    >
    </dnn-autocomplete>
    `).bind({});Primary.args={label:"Autocomplete"};const __namedExportsOrder=["Primary"];Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"args => html`\n    <dnn-autocomplete\n        .disabled=${args.disabled}\n        .helpText=${args.helpText}\n        .label=${args.label}\n        .name=${args.name}\n        .preloadThresholdPixels=${args.preloadThresholdPixels}\n        .renderSuggestions=${args.renderSuggestions}\n        .required=${args.required}\n        .suggestions=${args.suggestions}\n        .totalSuggestions=${args.totalSuggestions}\n        .value=${args.value}\n        @itemSelected=${e => eventsFromNames.itemSelected(e)}\n        @needMoreItems=${e => eventsFromNames.needMoreItems(e)}\n        @searchQueryChanged=${args.onSearchQueryChanged ? args.onSearchQueryChanged : e => eventsFromNames.searchQueryChanged(e)}\n        @valueChange=${e => eventsFromNames.valueChange(e)}\n        @valueInput=${e => eventsFromNames.valueInput(e)}\n    >\n    </dnn-autocomplete>\n    `",...Primary.parameters?.docs?.source}}}}}]);
//# sourceMappingURL=components-dnn-autocomplete-dnn-button-stories.58395772.iframe.bundle.js.map