"use strict";(self.webpackChunk_dnncommunity_dnn_elements=self.webpackChunk_dnncommunity_dnn_elements||[]).push([[1693],{"./dist/esm/dnn-vertical-splitview.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{dnn_vertical_splitview:()=>DnnVerticalSplitview});var _index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-9dbb7028.js"),_mouseUtilities_e70a0dc3_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./dist/esm/mouseUtilities-e70a0dc3.js");const DnnVerticalSplitview=class{constructor(hostRef){(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.widthChanged=(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.c)(this,"widthChanged",7),this.splitterWidth=16,this.splitWidthPercentage=30,this.leftWidth=0,this.rightWidth=0}async setSplitWidthPercentage(newWidth){const panes=this.element.shadowRoot.querySelectorAll(".pane");requestAnimationFrame((()=>{panes.forEach((pane=>pane.classList.add("transition"))),this.splitter.classList.add("transition"),requestAnimationFrame((()=>{const fullWidth=this.element.getBoundingClientRect().width;let newLeft=fullWidth*newWidth/100;newLeft<0&&(newLeft=0),newLeft>fullWidth&&(newLeft=fullWidth),this.leftWidth=newLeft,this.rightWidth=fullWidth-newLeft,setTimeout((()=>{panes.forEach((pane=>pane.classList.remove("transition"))),this.splitter.classList.remove("transition")}),300)}))}))}async getSplitWidthPercentage(){const fullWidth=this.element.getBoundingClientRect().width;return this.leftWidth/fullWidth}componentDidLoad(){requestAnimationFrame((()=>{this.resizeObserver=new ResizeObserver((()=>{const fullWidth=this.element.getBoundingClientRect().width;this.leftWidth=fullWidth*this.splitWidthPercentage/100,this.rightWidth=fullWidth-this.leftWidth,this.widthChanged.emit(this.splitWidthPercentage)})),this.resizeObserver.observe(this.element)}))}handleMouseDown(event){event.preventDefault();const handleDrag=ev=>{requestAnimationFrame((()=>{let fullWidth=this.element.getBoundingClientRect().width,{movementX}=(0,_mouseUtilities_e70a0dc3_js__WEBPACK_IMPORTED_MODULE_1__.g)(ev,this.previousTouch),newLeft=this.leftWidth+movementX;newLeft<0&&(newLeft=0),newLeft>fullWidth&&(newLeft=fullWidth),this.leftWidth=newLeft,this.rightWidth=fullWidth-newLeft,this.splitWidthPercentage=this.leftWidth/fullWidth*100}))},handleDragFinished=()=>{document.removeEventListener("mousemove",handleDrag),document.removeEventListener("touchmove",handleDrag);const fullWidth=this.element.getBoundingClientRect().width,newPercentage=this.leftWidth/fullWidth*100;this.widthChanged.emit(newPercentage)};document.addEventListener("mouseup",handleDragFinished),document.addEventListener("touchend",handleDragFinished),document.addEventListener("mousemove",handleDrag),document.addEventListener("touchmove",handleDrag)}handleKeyDown(e){let movementX=0;switch(e.key){case"ArrowLeft":movementX=-10;break;case"ArrowRight":movementX=10;break;default:return}e.shiftKey&&(movementX*=10);const fullWidth=this.element.getBoundingClientRect().width;let newLeft=this.leftWidth+movementX;newLeft<0&&(newLeft=0),newLeft>fullWidth&&(newLeft=fullWidth),this.leftWidth=newLeft,this.rightWidth=fullWidth-this.leftWidth}render(){return(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.H,{key:"beaf3010798c186c586ad124a672a2e3c2610bd7"},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"353c7d995b03434a7eb1095ec28c19706e008ce7",class:"left pane",style:{width:`${this.leftWidth}px`}},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"e9c87dfcc0f8014ec9cd89ff91f21de679c414cf",name:"left"})),(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{key:"9df146da30e8adac9cadd75d14619fa574f0c97e",onMouseDown:e=>this.handleMouseDown(e),onTouchStart:e=>this.handleMouseDown(e),onKeyDown:e=>this.handleKeyDown(e),ref:el=>this.splitter=el,style:{minWidth:`${this.splitterWidth.toString()}px`,left:this.leftWidth-2+"px"}},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"f46238df8b64f8627a1058644fbecc2c4989bbc8"})),(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"5b42b788656ffd7cad9a80d81dd74925a3deacc8",class:"right pane",style:{width:`${this.rightWidth}px`}},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"d5e9154ff247e915db7774eab731f1050e348b77",name:"right"})))}get element(){return(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}};DnnVerticalSplitview.style=":host{display:flex;align-items:stretch;margin:0 auto;position:relative;--left-pane-background-color:transparent;--right-pane-background-color:transparent}button{border:none;margin:0;padding:0;cursor:ew-resize;position:absolute;height:100%;background-color:transparent}button.transition{transition:all 300ms ease-in-out}.pane{overflow-y:auto}.pane.transition{transition:all 300ms ease-in-out}.pane.left{background-color:var(--left-pane-background-color)}.pane.right{background-color:var(--right-pane-background-color);flex-grow:1}"},"./dist/esm/mouseUtilities-e70a0dc3.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getMovementFromEvent(event,previousTouch){let movementX=0,movementY=0;if(event instanceof MouseEvent&&(movementX=event.movementX,movementY=event.movementY),"undefined"!=typeof TouchEvent&&event instanceof TouchEvent){let touch=event.touches[0];null!=previousTouch&&(movementX=touch.pageX-this.previousTouch.pageX,movementY=touch.pageY-this.previousTouch.pageY),previousTouch=touch}return{movementX,movementY}}__webpack_require__.d(__webpack_exports__,{g:()=>getMovementFromEvent})}}]);