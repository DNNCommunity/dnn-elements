"use strict";(self.webpackChunk_dnncommunity_dnn_elements=self.webpackChunk_dnncommunity_dnn_elements||[]).push([[5374],{"./dist/esm/dnn-vertical-overflow-menu.entry.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{dnn_vertical_overflow_menu:()=>DnnVerticalOverflowMenu});var _index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./dist/esm/index-9dbb7028.js");const DnnVerticalOverflowMenu=class{constructor(hostRef){(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.r)(this,hostRef),this.previousMenuWidth=0,this.showDropdownButton=!1,this.showDropdownMenu=!1}componentDidRender(){requestAnimationFrame((()=>{this.moveItemsToDropDownIfNecessery(),this.resizeObserver=new ResizeObserver((entries=>{for(let entry of entries)entry.contentRect.width<this.previousMenuWidth&&this.moveItemsToDropDownIfNecessery(),this.previousMenuWidth>0&&entry.contentRect.width>this.previousMenuWidth&&this.moveItemsToMenuIfPossible(),this.previousMenuWidth=entry.contentRect.width})),this.resizeObserver.observe(this.element)}))}moveItemsToDropDownIfNecessery(){const menuItems=Array.from(this.menu.querySelector("slot").assignedElements()),availableWidth=this.menu.getBoundingClientRect().width;let neededWidth=2*parseFloat(getComputedStyle(this.element).fontSize);if(menuItems.forEach((item=>neededWidth+=this.getFullWidth(item))),neededWidth+=(menuItems.length-1)*parseFloat(getComputedStyle(this.element).fontSize),neededWidth>availableWidth){this.showDropdownButton=!0;var lastItem=menuItems[menuItems.length-1];if(null==this.dropdown)return;lastItem.slot="dropdown",this.moveItemsToDropDownIfNecessery()}}moveItemsToMenuIfPossible(){if(null==this.dropdown||!this.dropdown.hasChildNodes())return;const menuItems=Array.from(this.menu.querySelector("slot").assignedElements()),availableWidth=this.menu.getBoundingClientRect().width;let neededWidth=2*parseFloat(getComputedStyle(this.element).fontSize);neededWidth+=(menuItems.length-1)*parseFloat(getComputedStyle(this.element).fontSize),menuItems.forEach((item=>neededWidth+=this.getFullWidth(item)));const firstItem=this.dropdown.querySelector("slot").assignedElements()[0];null!=firstItem&&(neededWidth+=this.getFullWidth(firstItem)),neededWidth<availableWidth&&(null!=firstItem&&(firstItem.slot=""),null==firstItem&&(this.dropdown.classList.remove("visible"),this.showDropdownMenu=!1,this.showDropdownButton=!1))}getFullWidth(item){var width=item.getBoundingClientRect().width,styles=getComputedStyle(item);return width+=parseFloat(styles.marginLeft),width+=parseFloat(styles.marginRight),width+=parseFloat(styles.paddingLeft),width+=parseFloat(styles.paddingRight)}toggleOverflowMenu(){if(this.showDropdownMenu=!this.showDropdownMenu,this.showDropdownMenu){this.dropdown.classList.add("visible");let contentHeight=0;Array.from(this.dropdown.querySelector("slot").assignedElements()).forEach((item=>contentHeight+=item.getBoundingClientRect().height));const emHeight=parseFloat(getComputedStyle(this.dropdown).fontSize),gapsHeight=emHeight*(this.dropdown.children.length-1)/2;contentHeight+=gapsHeight;contentHeight+=2*emHeight,this.dropdown.style.height=`${contentHeight}px`;const dismissMenu=e=>{const buttonRect=this.button.getBoundingClientRect();(e.clientX<buttonRect.left||e.clientX>buttonRect.right||e.clientY<buttonRect.top||e.clientY>buttonRect.bottom)&&this.toggleOverflowMenu(),document.removeEventListener("click",dismissMenu)};setTimeout((()=>{document.addEventListener("click",dismissMenu,!1)}),100)}else this.dropdown.classList.remove("visible"),this.dropdown.style.height="0px"}render(){return(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)(_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.H,{key:"6553ac042249e33d80a068a90536999c3a81369b"},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"abda0519cdacb5aafe82ea4aed834ff5c45db258",class:"menu-container"},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"bbff94190c8bc214a37bbfb055ce6846e1a2457e",class:"menu",ref:el=>this.menu=el},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"6e97a2e313a635fe11ce2488c15e264f68958e29"})),this.showDropdownButton&&(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"1626915b6572090266db9af30b8c6f8fd7cc6bb1",class:"overflow"},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("button",{key:"dd2e55c8d08ca42b13600665fc9be680e123e340",ref:el=>this.button=el,class:"icon",onClick:()=>this.toggleOverflowMenu()},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("svg",{key:"a44022b2c686ca8839dd6f9b612adb6576c0b38c",xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#000000"},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{key:"f4107dd8572b748a0c674ec40d0bdd6483c3083d",d:"M0 0h24v24H0z",fill:"none"}),(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("path",{key:"50568879b9ac708a8ace4ff03b56618f866f9f12",d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}))),(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("div",{key:"263af3536c4aae3c72b8c964ba8f5737869b440c",class:"dropdown",ref:el=>this.dropdown=el},(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.h)("slot",{key:"6fbb0e725338c5422cdd94f1f0f30e64f3dabc7f",name:"dropdown"})))))}get element(){return(0,_index_9dbb7028_js__WEBPACK_IMPORTED_MODULE_0__.g)(this)}};DnnVerticalOverflowMenu.style=":host{--background-color:var(--dnn-color-primary-contrast, white);--foreground-color:var(--dnn-color-primary, #3792ED);display:block}.menu-container{display:flex;justify-content:flex-start;align-items:center;background-color:var(--background-color)}.menu-container .menu{margin:0.5em;display:flex;gap:1em;justify-content:flex-start;align-items:center;white-space:nowrap;width:100%}.menu-container .overflow{margin-left:auto;position:relative}.menu-container .overflow button{cursor:pointer;padding:0;margin:0;background-color:transparent;border:none}.menu-container .overflow button svg{fill:var(--foreground-color)}.menu-container .overflow .dropdown{position:absolute;display:flex;flex-direction:column;white-space:nowrap;right:0;transition:100ms ease-in-out;height:0;overflow:hidden}.menu-container .overflow .dropdown.visible{padding:1em;gap:0.5em;background-color:var(--background-color);box-shadow:2px 2px 4px rgba(0, 0, 0, 0.7)}"}}]);